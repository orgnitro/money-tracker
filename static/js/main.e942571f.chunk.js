(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(55),i=n.n(s),o=n(13),l=n(58),u=n(11),d=function(e,t){switch(t.type){case"DELETE":return Object(u.a)(Object(u.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"EDIT":return Object(u.a)(Object(u.a)({},e),{},{transactions:e.transactions.map((function(e){return e.id===t.payload.id&&(e=t.payload),e}))});case"ADD":return Object(u.a)(Object(u.a)({},e),{},{transactions:[t.payload].concat(Object(l.a)(e.transactions))});default:return e}},j=localStorage.getItem("transactions"),b={transactions:2!==j.length?JSON.parse(j):[{id:"604f2aca-fddc-49ff-b5b7-c5b4aea6a17e",text:"Debt Repayment",amount:-200,date:"2021-03-19"},{id:"a1c4611d-abbc-427f-a992-1fa5b1bb8f25",text:"Income from cryptocurrency sale",amount:400,date:"2021-03-15"},{id:"76c16353-f13e-4c1b-92cb-6fa5f3d8562d",text:"New Shoes",amount:-250,date:"2021-01-15"},{id:"5e7deb48-3a40-40ef-8dd1-8bf2dc13200b",text:"Salary",amount:1e3,date:"2021-01-14"},{id:"1a214c86-2267-4f7d-b9bf-1aecc02f1691",text:"Food",amount:-30,date:"2021-01-03"}]},x=Object(c.createContext)(b),m=function(e){var t=e.children,n=Object(c.useReducer)(d,b),r=Object(o.a)(n,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(s.transactions))}),[s.transactions]),Object(a.jsx)(x.Provider,{value:{transactions:s.transactions,delTransaction:function(e){i({type:"DELETE",payload:e})},editTransaction:function(e){i({type:"EDIT",payload:e})},addTransaction:function(e){i({type:"ADD",payload:e})}},children:t})},O=(n(64),function(){return Object(a.jsx)("header",{children:"Money tracker"})}),h=function(){var e=Object(c.useContext)(x).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"budget",children:[Object(a.jsx)("h4",{children:"Your Budget"}),Object(a.jsxs)("h2",{children:["$",e]})]})})},f=function(){var e=Object(c.useContext)(x).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)*-1..toFixed(2);return Object(a.jsxs)("div",{className:"inc-exp-balance",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Total Income"}),Object(a.jsxs)("p",{className:"money plus",children:["$",t]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Total Expense"}),Object(a.jsxs)("p",{className:"money minus",children:["$",n]})]})]}),Object(a.jsx)(h,{})]})},p=function(e){var t=e.transaction,n=Object(c.useContext)(x),r=n.delTransaction,s=n.editTransaction,i=t.amount<0?"-":"+",o=new Date;return Object(a.jsxs)("li",{className:"-"===i?"item minus":"item plus",children:[Object(a.jsx)("div",{className:"transaction-text",children:""===t.text?"UNNAMED":t.text}),Object(a.jsxs)("div",{className:"transaction-amount",children:[i,"$",Math.abs(t.amount)]}),Object(a.jsx)("div",{className:"transaction-date",children:t.date}),Object(a.jsx)("button",{onClick:function(){return r(t.id)},className:"delete-btn",children:Object(a.jsx)("span",{className:"material-icons",children:"clear"})}),Object(a.jsx)("button",{onClick:function(e){return function(e){var n=e.target.closest("li"),a=n.querySelector(".transaction-amount"),c=n.querySelector(".transaction-text"),r=n.querySelector(".transaction-date"),i=e.target.closest("button");if("edit-btn toggled"!==i.classList.value)i.querySelector("span").innerText="done",c.innerHTML='<input type="text" value="'.concat(c.innerHTML,'" />'),a.innerHTML='<input type="text" value="'.concat(Number(a.innerHTML.replace("$","")),'" />'),r.innerHTML='<input type="date" \n                                min="'.concat(o.getFullYear(),'-01-01" \n                                max="').concat(o.getFullYear(),'-12-31" \n                                value="').concat(r.innerHTML,'" \n                              />');else{var l=c.querySelector("input").value,u=a.querySelector("input").value;isNaN(+u)&&(u="0");var d=r.querySelector("input").value,j={id:t.id,text:l,amount:+u,date:d};i.querySelector("span").innerText="create",c.innerText=""===l?"UNNAMED":l,a.innerText=+u<0?"-$"+Math.abs(u):"+$"+u,r.innerText=d,s(j)}i.classList.toggle("toggled")}(e)},className:"edit-btn",children:Object(a.jsx)("span",{className:"material-icons",children:"create"})})]})},v=function(){var e=Object(c.useContext)(x).transactions;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:"list",children:e.map((function(e){return Object(a.jsx)(p,{transaction:e},e.id)}))})})},y=n(166),g=n(17),N=function(){var e=new Date,t=e.getMonth()<9?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1),n=e.getDate()<10?"0".concat(e.getDate()):"".concat(e.getDate()),r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)(0),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(c.useState)((function(){return"".concat(e.getFullYear(),"-").concat(t,"-").concat(n)})),O=Object(o.a)(m,2),h=O[0],f=O[1],p=Object(c.useContext)(x).addTransaction;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"add-action",onSubmit:function(e){if(e.preventDefault(),["0",0].includes(j))return document.querySelector(".amount-field p").style.display="block",void setTimeout((function(){document.querySelector(".amount-field p").style.display="none"}),2e3);document.querySelector(".amount-field p").style.display="none";var t={id:Object(y.a)(),text:i,amount:+j,date:h};p(t)},children:[Object(a.jsxs)("div",{className:"text-field",children:[Object(a.jsx)("label",{htmlFor:"text",children:"NAME"}),Object(a.jsx)("input",{type:"text",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Enter text..."})]}),Object(a.jsxs)("div",{className:"amount-date-wrapper",children:[Object(a.jsxs)("div",{className:"amount-field",children:[Object(a.jsx)("label",{htmlFor:"amount",children:"AMOUNT"}),Object(a.jsx)("input",{type:"number",value:j,onChange:function(e){return b(e.target.value)},placeholder:"Enter amount..."}),Object(a.jsx)("p",{children:"Required"})]}),Object(a.jsxs)("div",{className:"date-field",children:[Object(a.jsx)("label",{htmlFor:"date",children:"DATE"}),Object(a.jsx)("input",{type:"date",value:h,min:"".concat(e.getFullYear(),"-01-01"),max:"".concat(e.getFullYear(),"-12-31"),onChange:function(e){return f(e.target.value)}})]})]}),Object(a.jsx)("div",{className:"form-btn",children:Object(a.jsxs)("button",{className:"btn",children:[Object(a.jsx)("span",{className:"btn-add",children:"ADD"}),Object(a.jsx)("span",{className:"btn-check",children:"\u2713"})]})})]}),Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)(g.b,{to:"/",children:"Past Transactions"}),Object(a.jsx)(g.b,{to:"/chart",children:"Chart"})]})]})},T=n(57),S=function(){var e=[0,0,0,0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0,0,0,0];return function(e,t,n){n.forEach((function(t){t.amount>0&&(e[+t.date.slice(5,7)-1]+=t.amount)})),n.forEach((function(e){e.amount<0&&(t[+e.date.slice(5,7)-1]+=-1*e.amount)}))}(e,t,Object(c.useContext)(x).transactions),Object(a.jsx)("div",{className:"chart-wrapper",children:Object(a.jsx)(T.Bar,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Income",backgroundColor:"#00cc44",hoverBackgroundColor:"#009933",data:e},{label:"Expense",backgroundColor:"#ff6666",hoverBackgroundColor:"#ff3333",data:t}]},options:{maintainAspectRatio:!1,responsive:!0}})})};var D=n(2);var E=function(){return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(O,{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(f,{}),Object(a.jsx)(N,{}),Object(a.jsx)(D.a,{exact:!0,path:"/",component:v}),Object(a.jsx)(D.a,{path:"/chart",component:S})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(m,{children:Object(a.jsx)(E,{})})}),document.getElementById("root"))},64:function(e,t,n){}},[[164,1,2]]]);
//# sourceMappingURL=main.e942571f.chunk.js.map