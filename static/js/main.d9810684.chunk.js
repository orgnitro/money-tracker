(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(55),i=n.n(s),o=n(13),l=n(58),u=n(11),d=function(e,t){switch(t.type){case"DELETE":return Object(u.a)(Object(u.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"EDIT":return Object(u.a)(Object(u.a)({},e),{},{transactions:e.transactions.map((function(e){return e.id===t.payload.id&&(e=t.payload),e}))});case"ADD":return Object(u.a)(Object(u.a)({},e),{},{transactions:[t.payload].concat(Object(l.a)(e.transactions))});default:return e}},j=localStorage.getItem("transactions"),b={transactions:j?JSON.parse(j):[]},x=Object(c.createContext)(b),O=function(e){var t=e.children,n=Object(c.useReducer)(d,b),r=Object(o.a)(n,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(s.transactions))}),[s.transactions]),Object(a.jsx)(x.Provider,{value:{transactions:s.transactions,delTransaction:function(e){i({type:"DELETE",payload:e})},editTransaction:function(e){i({type:"EDIT",payload:e})},addTransaction:function(e){i({type:"ADD",payload:e})}},children:t})},m=(n(64),function(){return Object(a.jsx)("header",{children:"Money tracker"})}),h=function(){var e=Object(c.useContext)(x).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"budget",children:[Object(a.jsx)("h4",{children:"Your Budget"}),Object(a.jsxs)("h2",{children:["$",e]})]})})},p=function(){var e=Object(c.useContext)(x).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)*-1..toFixed(2);return Object(a.jsxs)("div",{className:"inc-exp-balance",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Total Income"}),Object(a.jsxs)("p",{className:"money plus",children:["$",t]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Total Expense"}),Object(a.jsxs)("p",{className:"money minus",children:["$",n]})]})]}),Object(a.jsx)(h,{})]})},f=function(e){var t=e.transaction,n=Object(c.useContext)(x),r=n.delTransaction,s=n.editTransaction,i=t.amount<0?"-":"+",o=new Date,l="".concat(o.getFullYear(),"-01-01"),u="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate());return Object(a.jsxs)("li",{className:"-"===i?"item minus":"item plus",children:[Object(a.jsx)("div",{className:"transaction-text",children:""===t.text?"UNNAMED":t.text}),Object(a.jsxs)("div",{className:"transaction-amount",children:[i,"$",Math.abs(t.amount)]}),Object(a.jsx)("div",{className:"transaction-date",children:t.date}),Object(a.jsx)("button",{onClick:function(){return r(t.id)},className:"delete-btn",children:Object(a.jsx)("span",{className:"material-icons",children:"clear"})}),Object(a.jsx)("button",{onClick:function(e){return function(e){var n=e.target.closest("li"),a=n.querySelector(".transaction-amount"),c=n.querySelector(".transaction-text"),r=n.querySelector(".transaction-date"),i=e.target.closest("button");if("edit-btn toggled"!==i.classList.value)i.querySelector("span").innerText="done",c.innerHTML='<input type="text" value="'.concat(c.innerHTML,'" />'),a.innerHTML='<input type="text" value="'.concat(Number(a.innerHTML.replace("$","")),'" />'),r.innerHTML='<input type="date" min="'.concat(l,'" max="').concat(u,'" value="').concat(r.innerHTML,'" />');else{var o=c.querySelector("input").value,d=a.querySelector("input").value;isNaN(+d)&&(d="0");var j=r.querySelector("input").value,b={id:t.id,text:o,amount:+d,date:j};i.querySelector("span").innerText="create",c.innerText=""===o?"UNNAMED":o,a.innerText=+d<0?"-$"+Math.abs(d):"+$"+d,r.innerText=j,s(b)}i.classList.toggle("toggled")}(e)},className:"edit-btn",children:Object(a.jsx)("span",{className:"material-icons",children:"create"})})]})},v=function(){var e=Object(c.useContext)(x).transactions;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:"list",children:e.map((function(e){return Object(a.jsx)(f,{transaction:e},e.id)}))})})},g=n(166),y=n(17),N=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(0),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)((function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())})),j=Object(o.a)(d,2),b=j[0],O=j[1],m=Object(c.useContext)(x).addTransaction,h=new Date,p="".concat(h.getFullYear(),"-01-01"),f="".concat(h.getFullYear(),"-").concat(h.getMonth()+1,"-").concat(h.getDate());return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"add-action",onSubmit:function(e){if(e.preventDefault(),["0",0].includes(l))return document.querySelector(".amount-field p").style.display="block",void setTimeout((function(){document.querySelector(".amount-field p").style.display="none"}),2e3);document.querySelector(".amount-field p").style.display="none";var t={id:Object(g.a)(),text:n,amount:+l,date:b};m(t)},children:[Object(a.jsxs)("div",{className:"text-field",children:[Object(a.jsx)("label",{htmlFor:"text",children:"NAME"}),Object(a.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"Enter text..."})]}),Object(a.jsxs)("div",{className:"amount-date-wrapper",children:[Object(a.jsxs)("div",{className:"amount-field",children:[Object(a.jsx)("label",{htmlFor:"amount",children:"AMOUNT"}),Object(a.jsx)("input",{type:"number",value:l,onChange:function(e){return u(e.target.value)},placeholder:"Enter amount..."}),Object(a.jsx)("p",{children:"Amount"})]}),Object(a.jsxs)("div",{className:"date-field",children:[Object(a.jsx)("label",{htmlFor:"date",children:"DATE"}),Object(a.jsx)("input",{type:"date",value:b,min:p,max:f,onChange:function(e){return O(e.target.value)}})]})]}),Object(a.jsx)("div",{className:"form-btn",children:Object(a.jsxs)("button",{className:"btn",children:[Object(a.jsx)("span",{className:"btn-add",children:"ADD"}),Object(a.jsx)("span",{className:"btn-check",children:"\u2713"})]})})]}),Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)(y.b,{to:"/",children:"Past Transactions"}),Object(a.jsx)(y.b,{to:"/chart",children:"Chart"})]})]})},T=n(57),D=function(){var e=[0,0,0,0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0,0,0,0];return function(e,t,n){n.forEach((function(t){t.amount>0&&(e[+t.date.slice(5,7)-1]+=t.amount)})),n.forEach((function(e){e.amount<0&&(t[+e.date.slice(5,7)-1]+=-1*e.amount)}))}(e,t,Object(c.useContext)(x).transactions),Object(a.jsx)("div",{className:"chart-wrapper",children:Object(a.jsx)(T.Bar,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Income",backgroundColor:"#00cc44",hoverBackgroundColor:"#009933",data:e},{label:"Expense",backgroundColor:"#ff6666",hoverBackgroundColor:"#ff3333",data:t}]},options:{maintainAspectRatio:!1,responsive:!0}})})};var S=n(2);var E=function(){return Object(a.jsxs)(y.a,{children:[Object(a.jsx)(m,{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(p,{}),Object(a.jsx)(N,{}),Object(a.jsx)(S.a,{exact:!0,path:"/",component:v}),Object(a.jsx)(S.a,{path:"/chart",component:D})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(O,{children:Object(a.jsx)(E,{})})}),document.getElementById("root"))},64:function(e,t,n){}},[[164,1,2]]]);
//# sourceMappingURL=main.d9810684.chunk.js.map